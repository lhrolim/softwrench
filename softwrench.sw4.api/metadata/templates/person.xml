<?xml version="1.0" encoding="utf-8" ?>
<metadata xmlns="http://www.controltechnologysolutions.com/metadata">
  <entities>
    <entity name="localPerson" parententity="person" idAttribute="personid">
      <connectorParameters>
        <connectorParameter key="customconnector" value="softWrench.sW4.Data.Persistence.WS.Commons.BasePersonCrudConnector" />
      </connectorParameters>
    </entity>
  </entities>

  <applications>
    <application name="person" title="Person" entity="localPerson">
      <properties>
        <property key="list.defaultorderby" value="personid asc"/>
        <property key="detail.navigationbuttons.disabled" value="true"/>
      </properties>
      <schemas>
        <schema id="list" stereotype="list" title="Person List">
          <field attribute="personuid" hidden="true"/>
          <field attribute="personid" label="Username"/>
          <field attribute="firstname" label="First Name"/>
          <field attribute="lastname" label="Last Name"/>
          <field attribute="#isactive" label="Active" enableexpression="false">
            <renderer type="checkbox"/>
          </field>
        </schema>
        
        <schema id="detail" stereotype="detail" title="Person Detail">
          <field attribute="personuid" label="Person ID" showexpression="false"/>
          <field attribute="personid" label="Username" requiredexpression="true" readonly="true"/>
          <field attribute="#password" label="Password" requiredexpression="true"/>
          <field attribute="#retypepassword" label="Retype Password" requiredexpression="true"/>
          <field attribute="firstname" label="First Name" requiredexpression="true"/>
          <field attribute="lastname" label="Last Name" requiredexpression="true"/>
          <field attribute="locationorg" label="Org ID"/>
          <field attribute="locationsite" label="Site ID"/>
          <field attribute="location" label="Location"/>
          <field attribute="department" label="Department"/>
          <field attribute="langcode" label="Language"/>
          <field attribute="#isactive" label="Active">
            <renderer type="checkbox"/>
          </field>
          
          <composition relationship="phone" label="Phone Numbers" inline="false" >
            <collectionproperties allowcreation="true" allowupdate="false"/>
          </composition>
          <composition relationship="email" label="Email Addresses" inline="false">
            <collectionproperties allowcreation="true" allowupdate="false"/>
          </composition>
        </schema>

        <schema id="newPersonDetail" stereotype="detail" title="New User" mode="input">
          <field attribute="personuid" label="Person ID" showexpression="false" default="-1"/>
          <field attribute="#personid" label="Username" requiredexpression="true" readonly="false" attributeToServer="personid"/>
          <field attribute="#password" label="Password" requiredexpression="true"/>
          <field attribute="#retypepassword" label="Retype Password" requiredexpression="true"/>
          <field attribute="firstname" label="First Name" requiredexpression="true"/>
          <field attribute="lastname" label="Last Name" requiredexpression="true"/>
          <field attribute="locationorg" label="Org ID"/>
          <field attribute="locationsite" label="Site ID"/>
          <field attribute="location" label="Location"/>
          <field attribute="department" label="Department"/>
          <field attribute="langcode" label="Language"/>
          <field attribute="#isactive" label="Active">
            <renderer type="checkbox"/>
          </field>
        </schema>
      </schemas>
    </application>
  </applications>
</metadata>