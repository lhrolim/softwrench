<?xml version="1.0" encoding="utf-8" ?>
<metadata xmlns="http://www.controltechnologysolutions.com/swdbmetadata">

  <templates>
    <template path="@workorder.xml"/>
  </templates>

 

  <applications>
    <application name="workorder" title="Work Order" entity="workorder">
      <schemas>

        <schema id="createbatchlist" title="Work Order Grid" platform="web" stereotype="list">

          <commandbars>
            <commandgroup position="gridtop" removeundeclared="true">
              <command id="refresh" icon="fa-refresh" tooltip="refresh" service="searchService" method="refreshGrid"/>
              <command label="Cancel" id="cancelbatch" service="wobatchService" method="cancelBatch" icon="fa-times"/>
              <command label="Save Batch" id="generatebatch" service="wobatchService" method="generatebatch" parameters="datamap" icon="fa-check"/>
              <resourcecommand id="batches" path="/Content/Templates/commands/batches/batches.html" role="allowwobatches" parameters="showbutton=false"/>
            </commandgroup>
          </commandbars>

          <field attribute="wonum" label="WO#" >
            <renderer type="default" params="width=15%" />
          </field>
          <field attribute="description" label="Summary">
            <renderer type="default"  params="width=39%"/>
          </field>
          <!--          <field attribute="status" label="Status" >-->
          <!--            <renderer type="default" params="hidefilter=true; width=15%" />-->
          <!--          </field>-->
          <optionfield attribute="crewid" label="Crews" providerattribute="crews">
            <renderer type="combo" params="filteronly=true;width=16%;"/>
          </optionfield>
          <field attribute="schedstart" label="Scheduled Start" >
            <renderer type="datetime" params="format=MM/dd/yyyy HH:mm; width=15%"/>
          </field>
          <field attribute="schedfinish" label="Scheduled Finish" >
            <renderer type="datetime" params="format=MM/dd/yyyy HH:mm; width=15%"/>
          </field>

          <field attribute="#alreadyused" tooltip="This workorder is already used on another batch and cannot be included in this batch">
            <renderer type="icon" params="expression={'true':'fa-warning','false':''};"/>
          </field>

          <properties>
            <property key="list.selectionstyle" value="multiple"/>
            <property key="list.disablepagination" value="true"/>
            <property key="list.disabledetails" value="true"/>
          </properties>
        </schema>


        <schema id="editbatch" title="Work Order Grid" platform="web" stereotype="list" mode="input">

          <commandbars>
            <commandgroup position="gridtop" removeundeclared="true">
              <command id="submit" label="Submit" tooltip="Submit Batch to Maximo" service ="wobatchService" method="submitBatch" icon="fa-cloud-upload" parameters="datamap" />
              <command id="save" label="Save Batch" tooltip="Save Batch without Submiting it" service ="wobatchService" method="savebatch" parameters="datamap" icon="fa-check" />
              <command id="exit" label="Exit" service ="wobatchService" method="exit" icon="fa-times"/>
              <resourcecommand id="batches" path="/Content/Templates/commands/batches/batches.html" role="allowwobatches" parameters="showbutton=false"/>
            </commandgroup>
          </commandbars>

          <field attribute="wonum" label="Work Order #" >
            <renderer type="default" params="hidefilter=true;width=10%" />
          </field>
          <field attribute="description" label="Summary">
            <renderer type="default" params="limit=14;"  />
          </field>
          <field attribute="unid" label="UNID">
            <renderer type="default" params="width=8%"  />
          </field>
          <optionfield attribute="#ReconCd" label="Reconciliation Codes" requiredexpression="true" providerattribute="reconciliationCodes">
            <renderer type="COMBO" params="width=12%"  />
          </optionfield>
          <field attribute="actfinish" label="Actual Finish" default="@now" requiredexpression="true">
            <renderer type="datetime" params="editable=true;format=MM/dd/yyyy;width=15%"/>
          </field>
          <optionfield attribute="#pmchange" label="PM Change" default="N">
            <renderer type="combo" params="width=10%"/>
            <option label="Yes" value="Y"/>
            <option label="No" value="N"/>
          </optionfield>
          <field attribute="#fdbckcomment" label="Feedback Comment">
            <renderer type="default" params="limit=14;width=12%;updatable=true"  />
          </field>
          <field attribute="#lognote" label="Log Note">
            <renderer type="default" params="width=12%;updatable=true"/>
          </field>
          <field attribute="#closed" label="Close" requiredexpression="true">
            <renderer type="checkbox" params="width=5%"/>
          </field>

          <properties>
            <property key="list.click.service" value="wobatchService.clickeditbatch"/>
            <property key="list.disablepagination" value="true"/>
            <property key="list.disablefilter" value="true"/>
            <property key="list.disabledetails" value="true"/>
            <property key="list.sortmode" value="none"/>
          </properties>
        </schema>

        <schema id="editbatch" title="Work Order Grid" platform="web" stereotype="compositionlist" mode="output">

          <commandbars>
            <commandgroup position="compositiontop" removeundeclared="true">
              <resourcecommand id="batches" path="/Content/Templates/commands/batches/batches.html" role="allowwobatches" parameters="showbutton=false"/>
            </commandgroup>
          </commandbars>

          <field attribute="wonum" label="Work Order #" >
            <renderer type="default" params="hidefilter=true;width=10%" />
          </field>
          <field attribute="description" label="Summary">
            <renderer type="default" params="limit=14;"  />
          </field>
          <field attribute="unid" label="UNID">
            <renderer type="default" params="width=8%"  />
          </field>
          <field attribute="#ReconCd" label="Reconciliation Codes" requiredexpression="true">
            <renderer type="default" params="width=8%"  />
          </field>
          <field attribute="actfinish" label="Actual Finish" default="@now" requiredexpression="true">
            <renderer type="datetime" params="format=MM/dd/yyyy;width=15%"/>
          </field>
          <field attribute="#pmchange" label="PM Change" default="N">
            <renderer type="default" params="width=8%"  />
          </field>
          <field attribute="#fdbckcomment" label="Feedback Comment">
            <renderer type="default" params="limit=14;width=12%"  />
          </field>
          <field attribute="#lognote" label="Log Note">
            <renderer type="default" params="width=12%"/>
          </field>
         

          <properties>
            <property key="list.click.service" value="wobatchService.clickeditbatch"/>
            <property key="list.disablepagination" value="true"/>
            <property key="list.disablefilter" value="true"/>
            <property key="list.disabledetails" value="true"/>
            <property key="list.sortmode" value="none"/>
          </properties>
        </schema>

      </schemas>
    </application>


  </applications>




</metadata>
