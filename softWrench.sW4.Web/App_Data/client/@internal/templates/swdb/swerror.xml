<?xml version="1.0" encoding="utf-8" ?>
<metadata xmlns="http://www.controltechnologysolutions.com/metadata">

  <entities>
    <entity name="problem" idAttribute="id">
      <attributes>
        <attribute name="username" query="(select username from sw_user2 where id = !@createdby)" type="varchar"/>
      </attributes>
    </entity>
  </entities>

  <applications>

    <application name="SoftwrenchError" entity="Problem" title="Softwrench Error">
      <schemas>
        <schema id="list" stereotype="list" title="Softwrench Errors">
          <field attribute="id" hidden="true"/>
          <field attribute="recordtype" label="Application"/>
          <field attribute="recorduserid" label="Record ID"/>
          <field attribute="problemtype" label="Problem Type"/>
          <field attribute="problemhandler" hidden="true"/>

          <field attribute="createddate" label="Error Date">
            <renderer type="datetime"/>
          </field>
          <field attribute="createdby" hidden="true"/>
          <field attribute="username" label="Created By"/>
          <field attribute="message" label="Message">
            <renderer type="default" params="width=40%"/>
          </field>
          <!--<field attribute="assignee" label="Assignee"/>
          <field attribute="priority" label="Priority"/>
          <field attribute="status" label="Status"/>-->
          <properties>
            <property key="list.defaultorderby" value="createddate desc"/>
          </properties>
          <event type="onschemafullyloaded" service="problemService" method="onListLoad" />
        </schema>

        <schema id="detail" stereotype="detail" mode="input" title="Softwrench Error Detail">
          <field attribute="id" hidden="true"/>
          <field attribute="problemtype" hidden="true"/>
          <field attribute="recordschema" hidden="true"/>
          <field attribute="clientplatform" label="Client Platform" readonly="true"/>
          <field attribute="recordtype" label="Application Type" readonly="true"/>
          <field attribute="problemHandler" hidden="true"/>
          <field attribute="recordid" label="Record ID" readonly="true"/>
          

          <field attribute="message" label="Description" readonly="true"/>
          <field attribute="data" hidden="true"/>
          <field attribute="#dataasstring" label="Data">
            <renderer type="textarea"/>
          </field>
          
          <field attribute="stacktrace" label="Stack Trace">
            <renderer type="textarea"/>
          </field>
            
          <commandbars>
            <commandgroup position="detail.primary" removeundeclared="true">
              <command id="submit" label="Submit" position="&lt;cancel"/>
              <command id="resolve" label="Resolve" position="&lt;cancel"/>
              <command id="cancel" label="Cancel" stereotype="cancel"/>
            </commandgroup>
          </commandbars>
        </schema>

        <schema id="jsonxmldetail" stereotype="detail" mode="input" title="Softwrench Error Detail">
          <field attribute="id" hidden="true"/>
          <field attribute="recordschema" hidden="true"/>
          <field attribute="clientplatform" label="Client Platform" readonly="true"/>
          <field attribute="problemtype" label ="Problem Type" readonly="true"/>
          <field attribute="recordtype" label="Application Type" readonly="true"/>
          
          <field attribute="recordid" label="Record ID" readonly="true"/>
          
          <field attribute="problemHandler" hidden="true"/>
          <field attribute="message" label="Description" readonly="true"/>
          <field attribute="data" hidden="true"/>
          <field attribute="#json" label="Json">
            <renderer type="textarea" params="formatter=json"/>
          </field>
          <field attribute="#xml" label="Xml">
            <renderer type="textarea" params="formatter=xml"/>
          </field>
          
          <field attribute="stacktrace" label="Stack Trace">
            <renderer type="textarea"/>
          </field>
          <commandbars>
            <commandgroup position="detail.primary">
              <removecommand id="save"/>
              <removecommand id="print"/>
            </commandgroup>
          </commandbars>
        </schema>



      </schemas>
    </application>

  </applications>
</metadata>