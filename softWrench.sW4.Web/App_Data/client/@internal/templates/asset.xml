<?xml version="1.0" encoding="utf-8" ?>
<metadata xmlns="http://www.controltechnologysolutions.com/metadata">

  <applications>
    <application name="asset" title="Asset" entity="asset" id="00000000-0000-0000-0000-000000000001" >
      <properties>
        <property key="mobile.fetchlimit" value="30"/>
        <property key="mobile.userInteractionEnabled" value="false"/>
      </properties>
      <schemas>
        <list>
          <properties>
            <property key="list.click.schema" value="assetdetail"/>
          </properties>
          <field attribute="assetnum" label="Asset" qualifier="title"/>
          <field attribute="location" label="Location" qualifier="subtitle"/>
          <field attribute="vendor" label="Vendor"  qualifier="featured"/>
        </list>
        <schema id="detail" stereotype="detail">
          <field attribute="assetid" label="ID"  requiredexpression="true" />
          <field attribute="assetnum" label="Asset"  requiredexpression="true" />
          <field attribute="location" label="Location"  requiredexpression="true" />
          <field attribute="vendor" label="Vendor"  />
          <field attribute="description" label="Description"  />
          <field attribute="failurecode" label="Failure Class"  />
          <field attribute="priority" label="Priority"  />
          <field attribute="siteid"  requiredexpression="true" readonly="true" hidden="true"/>
        </schema>
        <schema id="assetdetail" title="Asset Detail" stereotype="detail">
          <commandbars>
            <commandgroup position="actions">
              <container id="actioncontainer" icon="fa-bolt" label="Actions">
                <command id="createWO" service="workorderService" method="openNewDetailModal" parameters="datamap" label="Create Work Order" icon="fa-tachometer"/>
              </container>
            </commandgroup>
          </commandbars>
          <field attribute="siteid" readonly="true" hidden="true"/>
          <field attribute="assetid" label="Asset#" readonly="true" hidden="true"/>
          <field attribute="assetnum" label="Asset" readonly="true"/>
          <field attribute="location" label="Location" readonly="true"/>
          <field attribute="vendor" label="Vendor" readonly="true"/>
          <field attribute="description" label="Description" readonly="true"/>
          <field attribute="failurecode" label="Failure Class" readonly="true"/>
          <field attribute="priority" label="Priority" readonly="true"/>
          <composition relationship="workorder" label="Work Order History" detailschema="">
            <collectionproperties listschema="assetwolist" allowcreation="false" allowupdate="false" allowremoval="false" printenabled="false"/>
          </composition>
        </schema>
        <schema id="assetLookupList" stereotype="list" >
          <field attribute="assetnum" label="Asset"/>
          <field attribute="description" label="Description">
            <renderer type="default" params="minwidth=300px" />
          </field>
          <field attribute="location" label="Location"/>
          <field attribute="siteid"  label="Site"/>
          <field attribute="status" label="Status"/>
        </schema>
        <schema id="locationassets" title="Assets" stereotype="compositionlist">
          <properties>
            <property key="list.click.event" value="assetService.goToDetail"/>
          </properties>
          <field attribute="assetid" hidden="true"/>
          <field attribute="assetnum" label="Asset"/>
          <field attribute="description" label="Description"/>
          <field attribute="parentasset_.assetnum" label="Parent"/>
          <field attribute="parentasset_.description" label="Parent Description"/>
          <field attribute="itemnum" label="Rotating Item"/>
          <field attribute="isrunning" label="Asset Up?">
            <renderer type="default" params="formatter=numberToBoolean"/>
          </field>
          <field attribute="calnum" label="Calendar"/>
          <commandbars>
            <commandgroup position="compositionbottom">
              <removecommand id="save"/>
            </commandgroup>
          </commandbars>
        </schema>
      </schemas>

    </application>
  </applications>




</metadata>
