<?xml version="1.0" encoding="utf-8" ?>
<metadata xmlns="http://www.example.org/metadata" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://www.example.org/metadata ../../../Schema/Metadata.xsd ">

  <templates>
    <template path="@chartofaccounts.xml"/>
    <template path="@item.xml"/>
  </templates>
  
  <entities>
    <entity name="matusetrans" idAttribute="matusetransid" >
      <attributes>
        <attribute name="matusetransid"  type="bigint" required="true" />
        <attribute name="siteid"  type="varchar" required="true" />
        <attribute name="orgid"  type="varchar" required="true" />
        <attribute name="refwo"  type="varchar" required="true" />
        <attribute name="storeloc"  type="varchar" required="true" />
        <attribute name="itemnum"  type="varchar" required="true" />
        <attribute name="description"  type="varchar" required="true" />
        <attribute name="transdate"  type="datetime" required="true" />
        <attribute name="qtyrequested"  type="double" required="true" />
        <attribute name="unitcost"  type="decimal" required="true" />
        <attribute name="gldebitacct" type="varchar" required="false" />
      </attributes>
      <relationships>
        <relationship to="location" qualifier="storeroom">
          <relationshipAttribute from="storeloc" to="location" primary="true"/>
          <relationshipAttribute from="siteid" to="siteid" />
          <relationshipAttribute to="type" literal="STOREROOM" quoteLiteral="true" />
        </relationship>
        <relationship to="item" >
          <relationshipAttribute from="itemnum" to="itemnum" primary="true"/>
        </relationship>
        <relationship to="chartofaccounts" >
          <relationshipAttribute from="gldebitacct" to="glaccount" primary="true"/>
          <relationshipAttribute from="orgid" to="orgid" />
        </relationship>
      </relationships>
    </entity>

  </entities>


  <applications>
    <application name="matusetrans" title="Materials" entity="matusetrans" id="00000000-0000-0000-0000-000000000009">
      <properties>
        <property key="mobile.userInteractionEnabled" value="false"/>
        <property key="mobile.fetchlimit" value="300"/>
        <property key ="icon.composition.tab" value="fa fa-suitcase"/>
      </properties>
      <schemas>
        <list>
          <field attribute="matusetransid" hidden="true" />
          <field attribute="item_.description" label="Description" qualifier="title"/>
          <field attribute="qtyrequested" label="Quantity" qualifier="subtitle"/>
        </list>

        <detail platform="web">
          <field attribute="matusetransid" hidden="true" />
          <field attribute="orgid" hidden="true" />
          <field attribute="siteid" hidden="true" />
          <field attribute="refwo" hidden="true" />
          <field attribute="description" hidden="true" />
          <field attribute="transdate" hidden="true" />
          <field attribute="qtyrequested" label="Quantity:" required="true" qualifier="quantity">
            <renderer type="numericinput" params="min=1;max=100;decimals=0"/>
          </field>
          <association label="Item:" target="itemnum" labelfield="item_.description">
            <renderer type="lookup"/>
          </association>
          <association label="Storeroom:" target="storeloc" labelfield="storeroom_.description">
            <renderer type="lookup"/>
          </association>
          <association label="GL Debit Account:" target="gldebitacct" labelfield="chartofaccounts_.accountname" >
            <renderer type="lookup"/>
          </association>
        </detail>

        <detail platform="mobile">
          <field attribute="matusetransid" hidden="true" />
          <field attribute="orgid" hidden="true" />
          <field attribute="siteid" hidden="true" />
          <field attribute="refwo" hidden="true" />
          <field attribute="description" hidden="true" />
          <field attribute="gldebitacct" hidden="true" />
          <field attribute="transdate" label="Date:" readonly="true" />
          <field attribute="qtyrequested" label="Quantity:" required="true" qualifier="quantity">
            <!--            <renderer type="numericinput" params="decimals=2"/>-->
            <number decimals="2"  min="" max="" />
          </field>
          <!--                    <field attribute="unitcost" label="UnitCost" required="true">-->
          <!--                      <number decimals="2" min="0" max="" />-->
          <!--                    </field>-->
          <association label="Item:" target="itemnum" labelfield="item.itemnum,item.description" />
          <association label="Storeroom:" target="storeloc" labelfield="storeroom.locationsid,storeroom.description" />

          <field attribute="itemnum" hidden="true" />
          <field attribute="item_.description" label="Item:" >
            <lookup sourceApplication="item" sourceField="itemnum" sourceDisplay="description,itemnum" targetField="itemnum" targetQualifier=""/>
          </field>

          <field attribute="storeloc" hidden="true" />
          <field attribute="storeroom_.description" label="Storeroom:" >
            <lookup sourceApplication="location" sourceField="location" sourceDisplay="description,locationsid"
                    targetField="storeloc" targetQualifier="storeroom_">
              <lookupFilters>
                <lookupFilter sourceField="siteid" targetField="siteid" />
                <lookupFilter sourceField="type" literal="STOREROOM" />
              </lookupFilters>
            </lookup>
          </field>
          <field attribute="chartofaccounts_.accountname" label="GL Account:" >
            <lookup sourceApplication="chartofaccounts" sourceField="glaccount" sourceDisplay="accountname,glaccount" targetField="gldebitacct" targetQualifier="">
              <lookupFilters>
                <lookupFilter sourceField="orgid" targetField="orgid" />
              </lookupFilters>
            </lookup>
          </field>

        </detail>
      </schemas>
    </application>

  </applications>




</metadata>
