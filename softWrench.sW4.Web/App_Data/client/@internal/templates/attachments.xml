<?xml version="1.0" encoding="utf-8" ?>
<metadata xmlns="http://www.example.org/metadata" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://www.example.org/metadata ../../../Schema/Metadata.xsd ">

  <entities>
    <entity name="DOCLINKS" idAttribute="doclinksid">
      <relationships>
        <relationship to="DOCINFO" qualifier="docinfo">
          <relationshipAttribute from="docinfoid" to="docinfoid" primary="true"/>
        </relationship>
      </relationships>
      <connectorParameters>
        <connectorParameter key="dbtable" value="DOCLINKS" />
      </connectorParameters>
    </entity>
  </entities>
  
  <applications>
    <application name="attachment" title="Attachments" entity="DOCLINKS">
      <properties>
        <property key="mobile.fetchlimit" value="300"/>
        <property key ="icon.composition.tab" value="fa fa-paperclip"/>
      </properties>
      <schemas>
        <list stereotype="compositionlist" platform="mobile">
          <field hidden="true" attribute="docinfoid"/>
          <field hidden="true" attribute="ownerid"/>
          <field hidden="true" attribute="doclinksid"/>
          <field label="Document" attribute="document" qualifier="title"/>
          <field label="Created Date" attribute="createdate" qualifier="subtitle"/>
          <field hidden="true" attribute="docinfo_.urlname"/>
          <field hidden="true" attribute="maximoURL"/>
        </list>

        <list stereotype="compositionlist" platform="web">
          <properties>
            <property key="detail.cancel.lbl" value="Close"/>
            <property key="expansible" value="false"/>
          </properties>
          <field hidden="true" attribute="ownerid"/>
          <field hidden="true" attribute="docinfoid"/>
          <field hidden="true" attribute="doclinksid"/>
          <field label="Application" attribute="ownertable" hidden="true"/>
          <field attribute="ownertable">
            <renderer type="icon" params="expression={'COMMLOG':'fa-envelope','SR':''};widthXS=-1%;widthSM=5%;widthMD=5%;widthLG=3%"/>
          </field>
          <field label="Document" hidden="true" attribute="document"/>
          <section attribute="document"
									   resourcepath="/Content/Templates/downloadattachment.html" parameters="controller=Attachment;action=Download;idcolumn=docinfoid;mode=http"/>
          <field label="Created Date" attribute="createdate"/>
          
          <commandbars>
            <commandgroup position="compositionbottom" removeundeclared="true">
              <command id="additem" icon="$scope:getAddIcon" service="$scope" method="newDetailFn" label="$scope:getAddLabel" showexpression="$scope:shouldShowAdd"/>
              <command id="save" icon="fa-save" service="$scope" method="save" label="Submit" tooltip="Submit" />
              <command id="cancel" icon="fa-times" service="$scope" method="cancel" label="Cancel" tooltip="Cancel"/>
            </commandgroup>
          </commandbars>
        </list>

        <schema id="faqAttachments" stereotype="compositionlist" platform="web">
          <field label="Id" hidden="true" attribute="docinfoid"/>
          <field hidden="true" attribute="doclinksid"/>
          <field label="Document" hidden="true" attribute="document"/>
          <section attribute="document" resourcepath="/Content/Templates/downloadattachment.html" parameters="controller=Faq;action=Download;idcolumn=docinfoid"/>
        </schema>

        <schema id="detail" title="Attachments">
          <field hidden="true" attribute="doclinksid"/>
          <field hidden="true" attribute="ownerid"/>
          <field hidden="true" attribute="docinfoid"/>
          <field label="Title:" attribute="document" requiredexpression="true" />
          <!--Description is not a required field - please fix for expand all / collapse all-->
          <field label="Description" attribute="docinfo_.description" />
          <field label="Attachment:" attribute="newattachment" requiredexpression="true">
            <renderer type="upload"/>
          </field>
          <!--          <field hidden="true" attribute="ownerid"/>-->
          <!--          <field hidden="true" attribute="ownertable"/>-->
          <field hidden="true" attribute="createdate"/>
          <commandbars>
            <commandgroup position="compositionbottom"  >
              <command id="crud_delete" label="Delete" service="crudextraService" method="deletefn" parameters="schema,datamap"
                       showexpression="@status=='NEW'" successmessage="Attachment deleted"/>
            </commandgroup>
          </commandbars>
        </schema>

      </schemas>
    </application>

  </applications>




</metadata>
