<?xml version="1.0" encoding="utf-8" ?>
<metadata xmlns="http://www.controltechnologysolutions.com/metadata">

  <entities>
    <entity name="DailyOutageMeeting" idAttribute="id">
      <relationships>
        <relationship to="_WorkPackage_" qualifier="workpackage">
          <relationshipAttribute from="workpackageid" to="id" primary="true"/>
        </relationship>
      </relationships>
    </entity>
  </entities>
  <applications>
    <application entity="DailyOutageMeeting" name="DailyOutageMeeting" title="Daily Outage Meeting">
      <schemas>
        <schema id="dailyoutagelineline" stereotype="compositionlist" platform="web">
          <field attribute="meetingtime" label="Meeting Time" readonly="true">
            <renderer type="datetime"/>
          </field>
          <field label="Cc" attribute="cc" hidden="true"/>
          <field attribute="status" label="Email Status" />
          <field attribute="mwhlostyesterday" label="MWH Lost" />

          <field attribute="criticalpath" hidden="true"/>
          <field attribute="openactionitems" hidden="true"/>
          <field attribute="completedactionitems" hidden="true"/>
          <field attribute="summary" hidden="true"/>
          <field attribute="sendnow" hidden="true"/>
        </schema>

        <schema id="adetail" stereotype="detail" abstract="true" platform="web">
          <section orientation="horizontal">
            <field attribute="meetingtime" label="Meeting Time" requiredexpression="true" default="@now">
              <renderer type="datetime"/>
            </field>
            <field attribute="sendnow" label="Send Email Now">
              <renderer type="checkbox" params="inputsize=3;layout=left"/>
            </field>
          </section>
          <field attribute="mwhlostyesterday" label="MWH Lost">
            <renderer type="numericinput" params="min=0"/>
          </field>

          <optionfield label="Cc" attribute="cc">
            <renderer type="multiselectautocompleteclient" stereotype="email" params="valtype=email;"/>
          </optionfield>
          
          <field label="Critical Path/Constraints" attribute="criticalpath"/>
          <field label="Open Action Items" attribute="openactionitems"/>
          <field label="Completed Action Items" attribute="completedactionitems"/>
          <field attribute="summary" label="Meeting Summary">
            <renderer type="textarea"/>
          </field>

          <composition inline="true" relationship="#domfileexplorer_" label="Attachments">
            <renderer type="fileexplorer" params="acceptedFileExtensions=sw_all_types"/>
          </composition>
          
          <commandbars>
            <commandgroup position="modal.detail.primary">
              <removecommand id="save"/>
              <command id="add" icon="fa-check" service="fsdailyoutagemeetingService" method="saveDailyOutageMeeting" label="Save" primary="true" position="+save"/>
            </commandgroup>
          </commandbars>
        </schema>

        <schema id="newdetail" parentschema="adetail" title="New Daily Outage Meeting"  platform="web" stereotype="detailnew">
        </schema>

        <schema id="detail" parentschema="adetail" title="Daily Outage Meeting"  platform="web" stereotype="detail">
        </schema>

        <schema id="detailview" title="Daily Outage Meeting"  platform="web" stereotype="detail">
          <field label="Cc" attribute="cc"/>
          <field label="Critical Path/Constraints" attribute="criticalpath"/>
          <field label="Open Action Items" attribute="openactionitems"/>
          <field label="Completed Action Items" attribute="completedactionitems"/>
          <field attribute="summary" label="Meeting Summary">
            <renderer type="textarea"/>
          </field>
        </schema>
      </schemas>
    </application>
  </applications>
</metadata>
