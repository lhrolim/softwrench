<div class="container">
    <div ng-repeat="row in getRows()" class="row">
        <div ng-repeat="column in getColumnsOfRow(row)" class="column" ng-class="getClassByNumberOfColumns(row)">
            <div class="wrap"
                 ng-init="localPanelDataSource = getPanelDataFromMatrix(row,column);localVisible = isPanelVisible(localPanelDataSource)"
                 ng-switch on="localPanelDataSource.panel.type">

                <dashboardgridpanel ng-switch-when="DashboardGridPanel"
                                    panelcol="{{column}}"
                                    panelrow="row"
                                    paneldatasource="localPanelDataSource"
                                    dashboardid="dashboardid"
                                    ng-show="localVisible" />
                
                <dashboard-graphic-panel ng-switch-when="DashboardGraphicPanel"
                                         panel="localPanelDataSource.panel"
                                         ng-show="localVisible" />
            </div>
        </div>
    </div>
</div>